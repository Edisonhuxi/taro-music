<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
</head>
<body>
  <script>
    var lrc_content = '[00:00.000] 作曲 : 隔壁老樊\n[00:00.013] 作词 : 隔壁老樊\n[00:00.40]我曾被无数的冷风吹透我胸口\n[00:08.94]我曾被遥远的梦逼着我仰望星空\n[00:16.45]我曾被无数的嘲讽让我放弃我的音乐梦\n[00:24.40]我曾被无数的黄土 淹没我的澎湃汹涌\n[00:34.32]\n[01:06.37]我曾想要我的歌声 无尽沉沦的感动\n[01:14.43]我曾把他们当成我风雨过后那一道彩虹\n[01:22.91]我曾把堕落的原因 都丢给时间\n[01:30.92]我曾把机会就扔在我眼前\n[01:39.46]我曾把完整的镜子打碎 夜晚的枕头都是眼泪\n[01:47.50]我多想让过去重来 再给我一次机会\n[01:55.83]我想说过去的时间 我谁都不为\n[02:04.32]除了空谈 也就是 事事非非\n[02:12.29]\n[02:54.02]我曾想要我的歌声 无尽沉沦的感动\n[03:02.16]我曾把他们当成我风雨过后那一道彩虹\n[03:10.10]我曾把堕落的原因 都丢给时间\n[03:18.56]我曾把机会就扔在我眼前\n[03:26.93]我曾把完整的镜子打碎 夜晚的枕头都是眼泪\n[03:35.17]我多想让过去重来 再给我一次机会\n[03:43.34]我想说过去的时间 我谁都不为\n[03:51.90]除了空谈 也就是事事非非\n[04:00.05]我曾把完整的镜子打碎 夜晚的枕头都是眼泪\n[04:08.10]我多想让过去重来 再给我一次机会\n[04:16.51]我想说过去的时间 我谁都不为\n[04:25.02]除了空谈 也就是事事非非\n[04:33.22]除了空谈 也就是事事非非\n[04:39.54]\n[04:40.01]制作人：段小林\n[04:40.38]编曲：黄超\n[04:40.65]鼓手：祁大为\n[04:40.93]贝斯：韩阳\n[04:41.21]吉他：黄超\n[04:41.44]键盘：黄超／原艺\n[04:41.68]录音：甄浩／金冠宇\n[04:41.89]混音/母带：段小林\n[04:42.06]录音室：北京好听音乐录音棚\n[04:42.28]出品：北京好听音乐科技有限公司\n[04:42.47]封面：朱小莉\n[04:42.81]\n'
    // 转换歌词字符串为数组
    var parse_lrc = (lrc_content) => {
      let now_lrc = []; // 声明一个临时数组
      let lrc_row = lrc_content.split("\n"); // 将原始的歌词通过换行符转为数组
      let scroll = true; // 默认scroll初始值为true
      for (let i in lrc_row) {
        if ((lrc_row[i].indexOf(']') === -1) && lrc_row[i]) {
          now_lrc.push({ lrc: lrc_row[i] });
        } else if (lrc_row[i] !== '') {
          var tmp = lrc_row[i].split("]");
          for (let j in tmp) {
            scroll = false
            let tmp2 = tmp[j].substr(1, 8);
            tmp2 = tmp2.split(":");
            let lrc_sec = parseInt(tmp2[0] * 60 + tmp2[1] * 1);
            if (lrc_sec && (lrc_sec > 0)) {
              let lrc = (tmp[tmp.length - 1]).replace(/(^\s*)|(\s*$)/g, "");
              lrc && now_lrc.push({ lrc_sec: lrc_sec, lrc: lrc });
            }
          }
        }
      }
      if (!scroll) {
        now_lrc.sort(function (a, b) {
          return a.lrc_sec - b.lrc_sec;
        });
      }
      return {
        now_lrc: now_lrc,
        scroll: scroll
      };
    }
    parse_lrc(lrc_content)
  </script>
</body>
</html>